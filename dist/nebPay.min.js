require=function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){"use strict";var d=function(){if("undefined"!=typeof window){if(navigator.userAgent.toLowerCase().match(/chrome\/([\d\.]+)/))return!0}return!1},e=function(a){var b,c,d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",e="";for(b=0;a>b;b+=1)c=Math.random()*d.length,c=Math.floor(c),e+=d.charAt(c);return e};b.exports={isChrome:d,randomCode:e}},{}],2:[function(a,b,c){"use strict";b.exports={mainnetUrl:"https://pay.nebulas.io/api/mainnet/pay",testnetUrl:"https://pay.nebulas.io/api/pay"}},{}],3:[function(a,b,c){"use strict";var d={},e=function(a){a.listener&&(d[a.serialNumber]=a.listener),a.listener=void 0,window.postMessage({src:"nebPay",logo:"nebulas",params:a},"*")};window.addEventListener("message",function(a){if(console.log("nebpay: received resp.data: "+JSON.stringify(a.data)),"content"===a.data.src){var b=a.data.serialNumber,c=d[b];"function"==typeof c&&c(a.data.resp)}}),b.exports=e},{}],4:[function(a,b,c){"use strict";var d=function(a,b){return f({url:a,method:"GET",body:b})},e=function(a,b){return f({url:a,method:"POST",body:b})},f=function(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open(a.method||"GET",a.url),a.headers&&Object.keys(a.headers).forEach(function(b){d.setRequestHeader(b,a.headers[b])}),d.onload=function(){d.status>=200&&d.status<300?b(d.response):c(d.statusText)},d.onerror=function(){return c(d.statusText)},d.send(a.body)})};b.exports={get:d,post:e,request:f}},{}],5:[function(a,b,c){"use strict";function d(a,b){var c={category:"jump",des:"confirmTransfer",pageParams:a},d="openapp.NASnano://virtual?params="+JSON.stringify(c);window.location.href=d,b.qrcode.showQRCode&&e(JSON.stringify(c),b)}function e(a,b){h.showQRCode(a,b.qrcode.container)}var f=a("bignumber.js"),g=a("./Utils"),h=a("./qrcode"),i=a("./extensionUtils.js"),j=function(a,b){this.appKey=a,this.appSecret=b};j.prototype={submit:function(a,b,c,e,h){h.serialNumber=g.randomCode(32),c=c||"0";var j=new f(c).times("1000000000000000000"),k={serialNumber:h.serialNumber,goods:h.goods,pay:{currency:a,to:b,value:j.toString(10),payload:e},callback:h.callback,listener:h.listener,nrc20:h.nrc20};return i(k),d(k,h),h.serialNumber}},b.exports=j},{"./Utils":1,"./extensionUtils.js":3,"./qrcode":6,"bignumber.js":7}],6:[function(a,b,c){"use strict";var d=a("qrcode"),e=function(){function a(){var a=document.createElement("style");return a.type="text/css",document.head.appendChild(a),a.sheet}var b=a();return function(a,c,d){d=d||0,b.insertRule(a+"{"+c+"}",d)}}(),f=function(){var a=document.createElement("canvas");a.className="qrcode",e(".qrcode","box-shadow: 2px 2px 12px lightgray;");var b=document.createElement("div");b.className="qrcode-container";var c="text-align: center;    background-color: #fff0;    border-radius: 20px;    width: 300px;    height: 300px;    position: absolute;    left: 50%;    top: 50%;    transform: translate(-50%,-50%);";e(".qrcode-container",c),b.appendChild(a);var d=document.createElement("div");d.className="qrcode-background",c="position:absolute;\tleft:0;\ttop:0;\tz-index:100;\theight:100%;\twidth:100%;\tbackground-color: rgba(0, 0, 0, 0.4);",e(".qrcode-background",c),d.appendChild(b);var f=document.getElementsByTagName("body");return f[0].appendChild(d),d.onclick=function(){f[0].removeChild(d)},a},g=function(a,b){"undefined"!=typeof window&&(void 0===b&&(b=f()),d.toCanvas(b,a,function(a){a&&console.error(a)}))};b.exports={showQRCode:g}},{qrcode:12}],7:[function(a,b,c){!function(a){"use strict";function c(a){function b(a,c){var d,e,f,g,h,i,j=this;if(!(j instanceof b))return new b(a,c);if(null!=c&&S(c,2,64,I,"base")){if(c|=0,i=a+"",10==c)return j=new b(a instanceof b?a:i),F(j,L+j.e+1,M);if((g="number"==typeof a)&&0*a!=0||!new RegExp("^-?"+(d="["+t.slice(0,c)+"]+")+"(?:\\."+d+")?$",c<37?"i":"").test(i))return H(j,i,g,c);g?(j.s=1/a<0?(i=i.slice(1),-1):1,R&&i.replace(/^0\.0*|\./,"").length>15&&E(I,s,a),g=!1):j.s=45===i.charCodeAt(0)?(i=i.slice(1),-1):1,i=m(i,10,c,j.s)}else{if(a instanceof b)return j.s=a.s,j.e=a.e,j.c=(a=a.c)?a.slice():a,void(I=0);if((g="number"==typeof a)&&0*a==0){if(j.s=1/a<0?(a=-a,-1):1,a===~~a){for(e=0,f=a;f>=10;f/=10,e++);return j.e=e,j.c=[a],void(I=0)}i=a+""}else{if(!n.test(i=a+""))return H(j,i,g);j.s=45===i.charCodeAt(0)?(i=i.slice(1),-1):1}}for((e=i.indexOf("."))>-1&&(i=i.replace(".","")),(f=i.search(/e/i))>0?(e<0&&(e=f),e+=+i.slice(f+1),i=i.substring(0,f)):e<0&&(e=i.length),f=0;48===i.charCodeAt(f);f++);for(h=i.length;48===i.charCodeAt(--h););if(i=i.slice(f,h+1))if(h=i.length,g&&R&&h>15&&(a>w||a!==p(a))&&E(I,s,j.s*a),(e=e-f-1)>Q)j.c=j.e=null;else if(e<P)j.c=[j.e=0];else{if(j.e=e,j.c=[],f=(e+1)%v,e<0&&(f+=v),f<h){for(f&&j.c.push(+i.slice(0,f)),h-=v;f<h;)j.c.push(+i.slice(f,f+=v));i=i.slice(f),f=v-i.length}else f-=h;for(;f--;i+="0");j.c.push(+i)}else j.c=[j.e=0];I=0}function m(a,c,d,f){var g,h,j,l,m,n,o,p=a.indexOf("."),q=L,r=M;for(d<37&&(a=a.toLowerCase()),p>=0&&(j=V,V=0,a=a.replace(".",""),o=new b(d),m=o.pow(a.length-p),V=j,o.c=i(k(e(m.c),m.e),10,c),o.e=o.c.length),n=i(a,d,c),h=j=n.length;0==n[--j];n.pop());if(!n[0])return"0";if(p<0?--h:(m.c=n,m.e=h,m.s=f,m=G(m,o,q,r,c),n=m.c,l=m.r,h=m.e),g=h+q+1,p=n[g],j=c/2,l=l||g<0||null!=n[g+1],l=r<4?(null!=p||l)&&(0==r||r==(m.s<0?3:2)):p>j||p==j&&(4==r||l||6==r&&1&n[g-1]||r==(m.s<0?8:7)),g<1||!n[0])a=l?k("1",-q):"0";else{if(n.length=g,l)for(--c;++n[--g]>c;)n[g]=0,g||(++h,n=[1].concat(n));for(j=n.length;!n[--j];);for(p=0,a="";p<=j;a+=t.charAt(n[p++]));a=k(a,h)}return a}function A(a,c,d,f){var g,h,i,l,m;if(d=null!=d&&S(d,0,8,f,r)?0|d:M,!a.c)return a.toString();if(g=a.c[0],i=a.e,null==c)m=e(a.c),m=19==f||24==f&&i<=N?j(m,i):k(m,i);else if(a=F(new b(a),c,d),h=a.e,m=e(a.c),l=m.length,19==f||24==f&&(c<=h||h<=N)){for(;l<c;m+="0",l++);m=j(m,h)}else if(c-=i,m=k(m,h),h+1>l){if(--c>0)for(m+=".";c--;m+="0");}else if((c+=h-l)>0)for(h+1==l&&(m+=".");c--;m+="0");return a.s<0&&g?"-"+m:m}function B(a,c){var d,e,f=0;for(h(a[0])&&(a=a[0]),d=new b(a[0]);++f<a.length;){if(e=new b(a[f]),!e.s){d=e;break}c.call(d,e)&&(d=e)}return d}function C(a,b,c,d,e){return(a<b||a>c||a!=l(a))&&E(d,(e||"decimal places")+(a<b||a>c?" out of range":" not an integer"),a),!0}function D(a,b,c){for(var d=1,e=b.length;!b[--e];b.pop());for(e=b[0];e>=10;e/=10,d++);return(c=d+c*v-1)>Q?a.c=a.e=null:c<P?a.c=[a.e=0]:(a.e=c,a.c=b),a}function E(a,b,c){var d=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][a]+"() "+b+": "+c);throw d.name="BigNumber Error",I=0,d}function F(a,b,c,d){var e,f,g,h,i,j,k,l=a.c,m=x;if(l){a:{for(e=1,h=l[0];h>=10;h/=10,e++);if((f=b-e)<0)f+=v,g=b,i=l[j=0],k=i/m[e-g-1]%10|0;else if((j=o((f+1)/v))>=l.length){if(!d)break a;for(;l.length<=j;l.push(0));i=k=0,e=1,f%=v,g=f-v+1}else{for(i=h=l[j],e=1;h>=10;h/=10,e++);f%=v,g=f-v+e,k=g<0?0:i/m[e-g-1]%10|0}if(d=d||b<0||null!=l[j+1]||(g<0?i:i%m[e-g-1]),d=c<4?(k||d)&&(0==c||c==(a.s<0?3:2)):k>5||5==k&&(4==c||d||6==c&&(f>0?g>0?i/m[e-g]:0:l[j-1])%10&1||c==(a.s<0?8:7)),b<1||!l[0])return l.length=0,d?(b-=a.e+1,l[0]=m[(v-b%v)%v],a.e=-b||0):l[0]=a.e=0,a;if(0==f?(l.length=j,h=1,j--):(l.length=j+1,h=m[v-f],l[j]=g>0?p(i/m[e-g]%m[g])*h:0),d)for(;;){if(0==j){for(f=1,g=l[0];g>=10;g/=10,f++);for(g=l[0]+=h,h=1;g>=10;g/=10,h++);f!=h&&(a.e++,l[0]==u&&(l[0]=1));break}if(l[j]+=h,l[j]!=u)break;l[j--]=0,h=1}for(f=l.length;0===l[--f];l.pop());}a.e>Q?a.c=a.e=null:a.e<P&&(a.c=[a.e=0])}return a}var G,H,I=0,J=b.prototype,K=new b(1),L=20,M=4,N=-7,O=21,P=-1e7,Q=1e7,R=!0,S=C,T=!1,U=1,V=0,W={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"Â ",fractionGroupSize:0};return b.another=c,b.ROUND_UP=0,b.ROUND_DOWN=1,b.ROUND_CEIL=2,b.ROUND_FLOOR=3,b.ROUND_HALF_UP=4,b.ROUND_HALF_DOWN=5,b.ROUND_HALF_EVEN=6,b.ROUND_HALF_CEIL=7,b.ROUND_HALF_FLOOR=8,b.EUCLID=9,b.config=b.set=function(){var a,b,c=0,d={},e=arguments,f=e[0],i=f&&"object"==typeof f?function(){if(f.hasOwnProperty(b))return null!=(a=f[b])}:function(){if(e.length>c)return null!=(a=e[c++])};return i(b="DECIMAL_PLACES")&&S(a,0,z,2,b)&&(L=0|a),d[b]=L,i(b="ROUNDING_MODE")&&S(a,0,8,2,b)&&(M=0|a),d[b]=M,i(b="EXPONENTIAL_AT")&&(h(a)?S(a[0],-z,0,2,b)&&S(a[1],0,z,2,b)&&(N=0|a[0],O=0|a[1]):S(a,-z,z,2,b)&&(N=-(O=0|(a<0?-a:a)))),d[b]=[N,O],i(b="RANGE")&&(h(a)?S(a[0],-z,-1,2,b)&&S(a[1],1,z,2,b)&&(P=0|a[0],Q=0|a[1]):S(a,-z,z,2,b)&&(0|a?P=-(Q=0|(a<0?-a:a)):R&&E(2,b+" cannot be zero",a))),d[b]=[P,Q],i(b="ERRORS")&&(a===!!a||1===a||0===a?(I=0,S=(R=!!a)?C:g):R&&E(2,b+q,a)),d[b]=R,i(b="CRYPTO")&&(!0===a||!1===a||1===a||0===a?a?(a="undefined"==typeof crypto,!a&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?T=!0:R?E(2,"crypto unavailable",a?void 0:crypto):T=!1):T=!1:R&&E(2,b+q,a)),d[b]=T,i(b="MODULO_MODE")&&S(a,0,9,2,b)&&(U=0|a),d[b]=U,i(b="POW_PRECISION")&&S(a,0,z,2,b)&&(V=0|a),d[b]=V,i(b="FORMAT")&&("object"==typeof a?W=a:R&&E(2,b+" not an object",a)),d[b]=W,d},b.max=function(){return B(arguments,J.lt)},b.min=function(){return B(arguments,J.gt)},b.random=function(){var a=9007199254740992,c=Math.random()*a&2097151?function(){return p(Math.random()*a)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(a){var d,e,f,g,h,i=0,j=[],k=new b(K);if(a=null!=a&&S(a,0,z,14)?0|a:L,g=o(a/v),T)if(crypto.getRandomValues){for(d=crypto.getRandomValues(new Uint32Array(g*=2));i<g;)h=131072*d[i]+(d[i+1]>>>11),h>=9e15?(e=crypto.getRandomValues(new Uint32Array(2)),d[i]=e[0],d[i+1]=e[1]):(j.push(h%1e14),i+=2);i=g/2}else if(crypto.randomBytes){for(d=crypto.randomBytes(g*=7);i<g;)h=281474976710656*(31&d[i])+1099511627776*d[i+1]+4294967296*d[i+2]+16777216*d[i+3]+(d[i+4]<<16)+(d[i+5]<<8)+d[i+6],h>=9e15?crypto.randomBytes(7).copy(d,i):(j.push(h%1e14),i+=7);i=g/7}else T=!1,R&&E(14,"crypto unavailable",crypto);if(!T)for(;i<g;)(h=c())<9e15&&(j[i++]=h%1e14);for(g=j[--i],a%=v,g&&a&&(h=x[v-a],j[i]=p(g/h)*h);0===j[i];j.pop(),i--);if(i<0)j=[f=0];else{for(f=-1;0===j[0];j.splice(0,1),f-=v);for(i=1,h=j[0];h>=10;h/=10,i++);i<v&&(f-=v-i)}return k.e=f,k.c=j,k}}(),G=function(){function a(a,b,c){var d,e,f,g,h=0,i=a.length,j=b%y,k=b/y|0;for(a=a.slice();i--;)f=a[i]%y,g=a[i]/y|0,d=k*f+g*j,e=j*f+d%y*y+h,h=(e/c|0)+(d/y|0)+k*g,a[i]=e%c;return h&&(a=[h].concat(a)),a}function c(a,b,c,d){var e,f;if(c!=d)f=c>d?1:-1;else for(e=f=0;e<c;e++)if(a[e]!=b[e]){f=a[e]>b[e]?1:-1;break}return f}function e(a,b,c,d){for(var e=0;c--;)a[c]-=e,e=a[c]<b[c]?1:0,a[c]=e*d+a[c]-b[c];for(;!a[0]&&a.length>1;a.splice(0,1));}return function(f,g,h,i,j){var k,l,m,n,o,q,r,s,t,w,x,y,z,A,B,C,D,E=f.s==g.s?1:-1,G=f.c,H=g.c;if(!(G&&G[0]&&H&&H[0]))return new b(f.s&&g.s&&(G?!H||G[0]!=H[0]:H)?G&&0==G[0]||!H?0*E:E/0:NaN);for(s=new b(E),t=s.c=[],l=f.e-g.e,E=h+l+1,j||(j=u,l=d(f.e/v)-d(g.e/v),E=E/v|0),m=0;H[m]==(G[m]||0);m++);if(H[m]>(G[m]||0)&&l--,E<0)t.push(1),n=!0;else{for(A=G.length,C=H.length,m=0,E+=2,o=p(j/(H[0]+1)),o>1&&(H=a(H,o,j),G=a(G,o,j),C=H.length,A=G.length),z=C,w=G.slice(0,C),x=w.length;x<C;w[x++]=0);D=H.slice(),D=[0].concat(D),B=H[0],H[1]>=j/2&&B++;do{if(o=0,(k=c(H,w,C,x))<0){if(y=w[0],C!=x&&(y=y*j+(w[1]||0)),(o=p(y/B))>1)for(o>=j&&(o=j-1),q=a(H,o,j),r=q.length,x=w.length;1==c(q,w,r,x);)o--,e(q,C<r?D:H,r,j),r=q.length,k=1;else 0==o&&(k=o=1),q=H.slice(),r=q.length;if(r<x&&(q=[0].concat(q)),e(w,q,x,j),x=w.length,-1==k)for(;c(H,w,C,x)<1;)o++,e(w,C<x?D:H,x,j),x=w.length}else 0===k&&(o++,w=[0]);t[m++]=o,w[0]?w[x++]=G[z]||0:(w=[G[z]],x=1)}while((z++<A||null!=w[0])&&E--);n=null!=w[0],t[0]||t.splice(0,1)}if(j==u){for(m=1,E=t[0];E>=10;E/=10,m++);F(s,h+(s.e=m+l*v-1)+1,i,n)}else s.e=l,s.r=+n;return s}}(),H=function(){var a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,c=/^([^.]+)\.$/,d=/^\.([^.]+)$/,e=/^-?(Infinity|NaN)$/,f=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(g,h,i,j){var k,l=i?h:h.replace(f,"");if(e.test(l))g.s=isNaN(l)?null:l<0?-1:1;else{if(!i&&(l=l.replace(a,function(a,b,c){return k="x"==(c=c.toLowerCase())?16:"b"==c?2:8,j&&j!=k?a:b}),j&&(k=j,l=l.replace(c,"$1").replace(d,"0.$1")),h!=l))return new b(l,k);R&&E(I,"not a"+(j?" base "+j:"")+" number",h),g.s=null}g.c=g.e=null,I=0}}(),J.absoluteValue=J.abs=function(){var a=new b(this);return a.s<0&&(a.s=1),a},J.ceil=function(){return F(new b(this),this.e+1,2)},J.comparedTo=J.cmp=function(a,c){return I=1,f(this,new b(a,c))},J.decimalPlaces=J.dp=function(){var a,b,c=this.c;if(!c)return null;if(a=((b=c.length-1)-d(this.e/v))*v,b=c[b])for(;b%10==0;b/=10,a--);return a<0&&(a=0),a},J.dividedBy=J.div=function(a,c){return I=3,G(this,new b(a,c),L,M)},J.dividedToIntegerBy=J.divToInt=function(a,c){return I=4,G(this,new b(a,c),0,1)},J.equals=J.eq=function(a,c){return I=5,0===f(this,new b(a,c))},J.floor=function(){return F(new b(this),this.e+1,3)},J.greaterThan=J.gt=function(a,c){return I=6,f(this,new b(a,c))>0},J.greaterThanOrEqualTo=J.gte=function(a,c){return I=7,1===(c=f(this,new b(a,c)))||0===c},J.isFinite=function(){return!!this.c},J.isInteger=J.isInt=function(){return!!this.c&&d(this.e/v)>this.c.length-2},J.isNaN=function(){return!this.s},J.isNegative=J.isNeg=function(){return this.s<0},J.isZero=function(){return!!this.c&&0==this.c[0]},J.lessThan=J.lt=function(a,c){return I=8,f(this,new b(a,c))<0},J.lessThanOrEqualTo=J.lte=function(a,c){return I=9,-1===(c=f(this,new b(a,c)))||0===c},J.minus=J.sub=function(a,c){var e,f,g,h,i=this,j=i.s;if(I=10,a=new b(a,c),c=a.s,!j||!c)return new b(NaN);if(j!=c)return a.s=-c,i.plus(a);var k=i.e/v,l=a.e/v,m=i.c,n=a.c;if(!k||!l){if(!m||!n)return m?(a.s=-c,a):new b(n?i:NaN);if(!m[0]||!n[0])return n[0]?(a.s=-c,a):new b(m[0]?i:3==M?-0:0)}if(k=d(k),l=d(l),m=m.slice(),j=k-l){for((h=j<0)?(j=-j,g=m):(l=k,g=n),g.reverse(),c=j;c--;g.push(0));g.reverse()}else for(f=(h=(j=m.length)<(c=n.length))?j:c,j=c=0;c<f;c++)if(m[c]!=n[c]){h=m[c]<n[c];break}if(h&&(g=m,m=n,n=g,a.s=-a.s),(c=(f=n.length)-(e=m.length))>0)for(;c--;m[e++]=0);for(c=u-1;f>j;){if(m[--f]<n[f]){for(e=f;e&&!m[--e];m[e]=c);--m[e],m[f]+=u}m[f]-=n[f]}for(;0==m[0];m.splice(0,1),--l);return m[0]?D(a,m,l):(a.s=3==M?-1:1,a.c=[a.e=0],a)},J.modulo=J.mod=function(a,c){var d,e,f=this;return I=11,a=new b(a,c),!f.c||!a.s||a.c&&!a.c[0]?new b(NaN):!a.c||f.c&&!f.c[0]?new b(f):(9==U?(e=a.s,a.s=1,d=G(f,a,0,3),a.s=e,d.s*=e):d=G(f,a,0,U),f.minus(d.times(a)))},J.negated=J.neg=function(){var a=new b(this);return a.s=-a.s||null,a},J.plus=J.add=function(a,c){var e,f=this,g=f.s;if(I=12,a=new b(a,c),c=a.s,!g||!c)return new b(NaN);if(g!=c)return a.s=-c,f.minus(a);var h=f.e/v,i=a.e/v,j=f.c,k=a.c;if(!h||!i){if(!j||!k)return new b(g/0);if(!j[0]||!k[0])return k[0]?a:new b(j[0]?f:0*g)}if(h=d(h),i=d(i),j=j.slice(),g=h-i){for(g>0?(i=h,e=k):(g=-g,e=j),e.reverse();g--;e.push(0));e.reverse()}for(g=j.length,c=k.length,g-c<0&&(e=k,k=j,j=e,c=g),g=0;c;)g=(j[--c]=j[c]+k[c]+g)/u|0,j[c]=u===j[c]?0:j[c]%u;return g&&(j=[g].concat(j),++i),D(a,j,i)},J.precision=J.sd=function(a){var b,c,d=this,e=d.c;if(null!=a&&a!==!!a&&1!==a&&0!==a&&(R&&E(13,"argument"+q,a),a!=!!a&&(a=null)),!e)return null;if(c=e.length-1,b=c*v+1,c=e[c]){for(;c%10==0;c/=10,b--);for(c=e[0];c>=10;c/=10,b++);}return a&&d.e+1>b&&(b=d.e+1),b},J.round=function(a,c){var d=new b(this);return(null==a||S(a,0,z,15))&&F(d,~~a+this.e+1,null!=c&&S(c,0,8,15,r)?0|c:M),d},J.shift=function(a){var c=this;return S(a,-w,w,16,"argument")?c.times("1e"+l(a)):new b(c.c&&c.c[0]&&(a<-w||a>w)?c.s*(a<0?0:1/0):c)},J.squareRoot=J.sqrt=function(){var a,c,f,g,h,i=this,j=i.c,k=i.s,l=i.e,m=L+4,n=new b("0.5");if(1!==k||!j||!j[0])return new b(!k||k<0&&(!j||j[0])?NaN:j?i:1/0);if(k=Math.sqrt(+i),0==k||k==1/0?(c=e(j),(c.length+l)%2==0&&(c+="0"),k=Math.sqrt(c),l=d((l+1)/2)-(l<0||l%2),k==1/0?c="1e"+l:(c=k.toExponential(),c=c.slice(0,c.indexOf("e")+1)+l),f=new b(c)):f=new b(k+""),f.c[0])for(l=f.e,k=l+m,k<3&&(k=0);;)if(h=f,f=n.times(h.plus(G(i,h,m,1))),e(h.c).slice(0,k)===(c=e(f.c)).slice(0,k)){if(f.e<l&&--k,"9999"!=(c=c.slice(k-3,k+1))&&(g||"4999"!=c)){+c&&(+c.slice(1)||"5"!=c.charAt(0))||(F(f,f.e+L+2,1),a=!f.times(f).eq(i));break}if(!g&&(F(h,h.e+L+2,0),h.times(h).eq(i))){f=h;break}m+=4,k+=4,g=1}return F(f,f.e+L+1,M,a)},J.times=J.mul=function(a,c){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=this,w=t.c,x=(I=17,a=new b(a,c)).c;if(!(w&&x&&w[0]&&x[0]))return!t.s||!a.s||w&&!w[0]&&!x||x&&!x[0]&&!w?a.c=a.e=a.s=null:(a.s*=t.s,w&&x?(a.c=[0],a.e=0):a.c=a.e=null),a;for(f=d(t.e/v)+d(a.e/v),a.s*=t.s,k=w.length,n=x.length,k<n&&(q=w,w=x,x=q,g=k,k=n,n=g),g=k+n,q=[];g--;q.push(0));for(r=u,s=y,g=n;--g>=0;){for(e=0,o=x[g]%s,p=x[g]/s|0,i=k,h=g+i;h>g;)l=w[--i]%s,m=w[i]/s|0,j=p*l+m*o,l=o*l+j%s*s+q[h]+e,e=(l/r|0)+(j/s|0)+p*m,q[h--]=l%r;q[h]=e}return e?++f:q.splice(0,1),D(a,q,f)},J.toDigits=function(a,c){var d=new b(this);return a=null!=a&&S(a,1,z,18,"precision")?0|a:null,c=null!=c&&S(c,0,8,18,r)?0|c:M,a?F(d,a,c):d},J.toExponential=function(a,b){return A(this,null!=a&&S(a,0,z,19)?1+~~a:null,b,19)},J.toFixed=function(a,b){return A(this,null!=a&&S(a,0,z,20)?~~a+this.e+1:null,b,20)},J.toFormat=function(a,b){var c=A(this,null!=a&&S(a,0,z,21)?~~a+this.e+1:null,b,21);if(this.c){var d,e=c.split("."),f=+W.groupSize,g=+W.secondaryGroupSize,h=W.groupSeparator,i=e[0],j=e[1],k=this.s<0,l=k?i.slice(1):i,m=l.length;if(g&&(d=f,f=g,g=d,m-=d),f>0&&m>0){for(d=m%f||f,i=l.substr(0,d);d<m;d+=f)i+=h+l.substr(d,f);g>0&&(i+=h+l.slice(d)),k&&(i="-"+i)}c=j?i+W.decimalSeparator+((g=+W.fractionGroupSize)?j.replace(new RegExp("\\d{"+g+"}\\B","g"),"$&"+W.fractionGroupSeparator):j):i}return c},J.toFraction=function(a){var c,d,f,g,h,i,j,k,l,m=R,n=this,o=n.c,p=new b(K),q=d=new b(K),r=j=new b(K);if(null!=a&&(R=!1,i=new b(a),R=m,(m=i.isInt())&&!i.lt(K)||(R&&E(22,"max denominator "+(m?"out of range":"not an integer"),a),a=!m&&i.c&&F(i,i.e+1,1).gte(K)?i:null)),!o)return n.toString();for(l=e(o),g=p.e=l.length-n.e-1,p.c[0]=x[(h=g%v)<0?v+h:h],a=!a||i.cmp(p)>0?g>0?p:q:i,h=Q,Q=1/0,i=new b(l),j.c[0]=0;k=G(i,p,0,1),f=d.plus(k.times(r)),1!=f.cmp(a);)d=r,r=f,q=j.plus(k.times(f=q)),j=f,p=i.minus(k.times(f=p)),i=f;return f=G(a.minus(d),r,0,1),j=j.plus(f.times(q)),d=d.plus(f.times(r)),j.s=q.s=n.s,g*=2,c=G(q,r,g,M).minus(n).abs().cmp(G(j,d,g,M).minus(n).abs())<1?[q.toString(),r.toString()]:[j.toString(),d.toString()],Q=h,c},J.toNumber=function(){return+this},J.toPower=J.pow=function(a,c){var d,e,f,g=p(a<0?-a:+a),h=this;if(null!=c&&(I=23,c=new b(c)),!S(a,-w,w,23,"exponent")&&(!isFinite(a)||g>w&&(a/=0)||parseFloat(a)!=a&&!(a=NaN))||0==a)return d=Math.pow(+h,a),new b(c?d%c:d);for(c?a>1&&h.gt(K)&&h.isInt()&&c.gt(K)&&c.isInt()?h=h.mod(c):(f=c,c=null):V&&(d=o(V/v+2)),e=new b(K);;){if(g%2){if(e=e.times(h),!e.c)break;d?e.c.length>d&&(e.c.length=d):c&&(e=e.mod(c))}if(!(g=p(g/2)))break;h=h.times(h),d?h.c&&h.c.length>d&&(h.c.length=d):c&&(h=h.mod(c))}return c?e:(a<0&&(e=K.div(e)),f?e.mod(f):d?F(e,V,M):e)},J.toPrecision=function(a,b){return A(this,null!=a&&S(a,1,z,24,"precision")?0|a:null,b,24)},J.toString=function(a){var b,c=this,d=c.s,f=c.e;return null===f?d?(b="Infinity",d<0&&(b="-"+b)):b="NaN":(b=e(c.c),b=null!=a&&S(a,2,64,25,"base")?m(k(b,f),0|a,10,d):f<=N||f>=O?j(b,f):k(b,f),d<0&&c.c[0]&&(b="-"+b)),b},J.truncated=J.trunc=function(){return F(new b(this),this.e+1,1)},J.valueOf=J.toJSON=function(){var a,b=this,c=b.e;return null===c?b.toString():(a=e(b.c),a=c<=N||c>=O?j(a,c):k(a,c),b.s<0?"-"+a:a)},J.isBigNumber=!0,null!=a&&b.config(a),b}function d(a){var b=0|a;return a>0||a===b?b:b-1}function e(a){for(var b,c,d=1,e=a.length,f=a[0]+"";d<e;){for(b=a[d++]+"",c=v-b.length;c--;b="0"+b);f+=b}for(e=f.length;48===f.charCodeAt(--e););return f.slice(0,e+1||1)}function f(a,b){var c,d,e=a.c,f=b.c,g=a.s,h=b.s,i=a.e,j=b.e;if(!g||!h)return null;if(c=e&&!e[0],d=f&&!f[0],c||d)return c?d?0:-h:g;if(g!=h)return g;if(c=g<0,d=i==j,!e||!f)return d?0:!e^c?1:-1;if(!d)return i>j^c?1:-1;for(h=(i=e.length)<(j=f.length)?i:j,g=0;g<h;g++)if(e[g]!=f[g])return e[g]>f[g]^c?1:-1;return i==j?0:i>j^c?1:-1}function g(a,b,c){return(a=l(a))>=b&&a<=c}function h(a){return"[object Array]"==Object.prototype.toString.call(a)}function i(a,b,c){for(var d,e,f=[0],g=0,h=a.length;g<h;){for(e=f.length;e--;f[e]*=b);for(f[d=0]+=t.indexOf(a.charAt(g++));d<f.length;d++)f[d]>c-1&&(null==f[d+1]&&(f[d+1]=0),f[d+1]+=f[d]/c|0,f[d]%=c)}return f.reverse()}function j(a,b){return(a.length>1?a.charAt(0)+"."+a.slice(1):a)+(b<0?"e":"e+")+b}function k(a,b){var c,d;if(b<0){for(d="0.";++b;d+="0");a=d+a}else if(c=a.length,++b>c){for(d="0",b-=c;--b;d+="0");a+=d}else b<c&&(a=a.slice(0,b)+"."+a.slice(b));return a}function l(a){return a=parseFloat(a),a<0?o(a):p(a)}var m,n=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,o=Math.ceil,p=Math.floor,q=" not a boolean or binary digit",r="rounding mode",s="number type has more than 15 significant digits",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",u=1e14,v=14,w=9007199254740991,x=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],y=1e7,z=1e9;m=c(),m.default=m.BigNumber=m,"function"==typeof define&&define.amd?define(function(){return m}):void 0!==b&&b.exports?b.exports=m:(a||(a="undefined"!=typeof self?self:Function("return this")()),a.BigNumber=m)}(this)},{}],8:[function(a,b,c){"use strict";var d=a("window-or-global");b.exports=function(){return"function"==typeof d.Promise&&"function"==typeof d.Promise.prototype.then}},{"window-or-global":38}],9:[function(a,b,c){"use strict";var d={single_source_shortest_paths:function(a,b,c){var e={},f={};f[b]=0;var g=d.PriorityQueue.make();g.push(b,0);for(var h,i,j,k,l,m,n,o;!g.empty();){h=g.pop(),i=h.value,k=h.cost,l=a[i]||{};for(j in l)l.hasOwnProperty(j)&&(m=l[j],n=k+m,o=f[j],(void 0===f[j]||o>n)&&(f[j]=n,g.push(j,n),e[j]=i))}if(void 0!==c&&void 0===f[c]){var p=["Could not find a path from ",b," to ",c,"."].join("");throw new Error(p)}return e},extract_shortest_path_from_predecessor_list:function(a,b){for(var c=[],d=b;d;)c.push(d),a[d],d=a[d];return c.reverse(),c},find_path:function(a,b,c){var e=d.single_source_shortest_paths(a,b,c);return d.extract_shortest_path_from_predecessor_list(e,c)},PriorityQueue:{make:function(a){var b,c=d.PriorityQueue,e={};a=a||{};for(b in c)c.hasOwnProperty(b)&&(e[b]=c[b]);return e.queue=[],e.sorter=a.sorter||c.default_sorter,e},default_sorter:function(a,b){return a.cost-b.cost},push:function(a,b){var c={value:a,cost:b};this.queue.push(c),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};void 0!==b&&(b.exports=d)},{}],10:[function(a,b,c){"use strict";var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString,f=function(a){return"function"==typeof Array.isArray?Array.isArray(a):"[object Array]"===e.call(a)},g=function(a){if(!a||"[object Object]"!==e.call(a))return!1;var b=d.call(a,"constructor"),c=a.constructor&&a.constructor.prototype&&d.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!b&&!c)return!1;var f;for(f in a);return void 0===f||d.call(a,f)};b.exports=function a(){var b,c,d,e,h,i,j=arguments[0],k=1,l=arguments.length,m=!1;for("boolean"==typeof j&&(m=j,j=arguments[1]||{},k=2),(null==j||"object"!=typeof j&&"function"!=typeof j)&&(j={});k<l;++k)if(null!=(b=arguments[k]))for(c in b)d=j[c],e=b[c],j!==e&&(m&&e&&(g(e)||(h=f(e)))?(h?(h=!1,i=d&&f(d)?d:[]):i=d&&g(d)?d:{},j[c]=a(m,i,e)):void 0!==e&&(j[c]=e));return j}},{}],11:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],12:[function(a,b,c){function d(a,b,c,d,g){var h=[].slice.call(arguments,1),i=h.length,j="function"==typeof h[i-1];if(!j&&!e())throw new Error("Callback required as last argument");if(!j){if(i<1)throw new Error("Too few arguments provided");return 1===i?(c=b,b=d=void 0):2!==i||b.getContext||(d=c,c=b,b=void 0),new Promise(function(e,g){try{var h=f.create(c,d);e(a(h,b,d))}catch(a){g(a)}})}if(i<2)throw new Error("Too few arguments provided");2===i?(g=c,c=b,b=d=void 0):3===i&&(b.getContext&&void 0===g?(g=d,d=void 0):(g=d,d=c,c=b,b=void 0));try{var k=f.create(c,d);g(null,a(k,b,d))}catch(a){g(a)}}var e=a("can-promise"),f=a("./core/qrcode"),g=a("./renderer/canvas"),h=a("./renderer/svg-tag.js");c.create=f.create,c.toCanvas=d.bind(null,g.render),c.toDataURL=d.bind(null,g.renderToDataURL),c.toString=d.bind(null,function(a,b,c){return h.render(a,c)})},{"./core/qrcode":28,"./renderer/canvas":34,"./renderer/svg-tag.js":35,"can-promise":8}],13:[function(a,b,c){var d=a("./utils").getSymbolSize;c.getRowColCoords=function(a){if(1===a)return[];for(var b=Math.floor(a/7)+2,c=d(a),e=145===c?26:2*Math.ceil((c-13)/(2*b-2)),f=[c-7],g=1;g<b-1;g++)f[g]=f[g-1]-e;return f.push(6),f.reverse()},c.getPositions=function(a){for(var b=[],d=c.getRowColCoords(a),e=d.length,f=0;f<e;f++)for(var g=0;g<e;g++)0===f&&0===g||0===f&&g===e-1||f===e-1&&0===g||b.push([d[f],d[g]]);return b}},{"./utils":32}],14:[function(a,b,c){function d(a){this.mode=e.ALPHANUMERIC,this.data=a}var e=a("./mode"),f=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];d.getBitsLength=function(a){return 11*Math.floor(a/2)+a%2*6},d.prototype.getLength=function(){return this.data.length},d.prototype.getBitsLength=function(){return d.getBitsLength(this.data.length)},d.prototype.write=function(a){var b;for(b=0;b+2<=this.data.length;b+=2){var c=45*f.indexOf(this.data[b]);c+=f.indexOf(this.data[b+1]),a.put(c,11)}this.data.length%2&&a.put(f.indexOf(this.data[b]),6)},b.exports=d},{"./mode":25}],15:[function(a,b,c){function d(){this.buffer=[],this.length=0}d.prototype={get:function(a){var b=Math.floor(a/8);return 1==(this.buffer[b]>>>7-a%8&1)},put:function(a,b){for(var c=0;c<b;c++)this.putBit(1==(a>>>b-c-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0),a&&(this.buffer[b]|=128>>>this.length%8),this.length++}},b.exports=d},{}],16:[function(a,b,c){function d(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new e(a*a),this.data.fill(0),this.reservedBit=new e(a*a),this.reservedBit.fill(0)}var e=a("../utils/buffer");d.prototype.set=function(a,b,c,d){var e=a*this.size+b;this.data[e]=c,d&&(this.reservedBit[e]=!0)},d.prototype.get=function(a,b){return this.data[a*this.size+b]},d.prototype.xor=function(a,b,c){this.data[a*this.size+b]^=c},d.prototype.isReserved=function(a,b){return this.reservedBit[a*this.size+b]},b.exports=d},{"../utils/buffer":37}],17:[function(a,b,c){function d(a){this.mode=f.BYTE,this.data=new e(a)}var e=a("../utils/buffer"),f=a("./mode");d.getBitsLength=function(a){return 8*a},d.prototype.getLength=function(){return this.data.length},d.prototype.getBitsLength=function(){return d.getBitsLength(this.data.length)},d.prototype.write=function(a){for(var b=0,c=this.data.length;b<c;b++)a.put(this.data[b],8)},b.exports=d},{"../utils/buffer":37,"./mode":25}],18:[function(a,b,c){var d=a("./error-correction-level"),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],f=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];c.getBlocksCount=function(a,b){switch(b){case d.L:return e[4*(a-1)+0];case d.M:return e[4*(a-1)+1];case d.Q:return e[4*(a-1)+2];case d.H:return e[4*(a-1)+3];default:return}},c.getTotalCodewordsCount=function(a,b){switch(b){case d.L:return f[4*(a-1)+0];case d.M:return f[4*(a-1)+1];case d.Q:return f[4*(a-1)+2];case d.H:return f[4*(a-1)+3];default:return}}},{"./error-correction-level":19}],19:[function(a,b,c){function d(a){if("string"!=typeof a)throw new Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return c.L;case"m":case"medium":return c.M;case"q":case"quartile":return c.Q;case"h":case"high":return c.H;default:throw new Error("Unknown EC Level: "+a)}}c.L={bit:1},c.M={bit:0},c.Q={bit:3},c.H={bit:2},c.isValid=function(a){return a&&void 0!==a.bit&&a.bit>=0&&a.bit<4},c.from=function(a,b){if(c.isValid(a))return a;try{return d(a)}catch(a){return b}}},{}],20:[function(a,b,c){var d=a("./utils").getSymbolSize,e=7;c.getPositions=function(a){var b=d(a);return[[0,0],[b-e,0],[0,b-e]]}},{"./utils":32}],21:[function(a,b,c){var d=a("./utils"),e=1335,f=d.getBCHDigit(e);c.getEncodedBits=function(a,b){for(var c=a.bit<<3|b,g=c<<10;d.getBCHDigit(g)-f>=0;)g^=e<<d.getBCHDigit(g)-f;return 21522^(c<<10|g)}},{"./utils":32}],22:[function(a,b,c){var d=a("../utils/buffer"),e=new d(512),f=new d(256);!function(){for(var a=1,b=0;b<255;b++)e[b]=a,f[a]=b,256&(a<<=1)&&(a^=285);for(b=255;b<512;b++)e[b]=e[b-255]}(),c.log=function(a){if(a<1)throw new Error("log("+a+")");return f[a]},c.exp=function(a){return e[a]},c.mul=function(a,b){return 0===a||0===b?0:e[f[a]+f[b]]}},{"../utils/buffer":37}],23:[function(a,b,c){function d(a){this.mode=e.KANJI,this.data=a}var e=a("./mode"),f=a("./utils");d.getBitsLength=function(a){return 13*a},d.prototype.getLength=function(){return this.data.length},d.prototype.getBitsLength=function(){return d.getBitsLength(this.data.length)},d.prototype.write=function(a){var b;for(b=0;b<this.data.length;b++){var c=f.toSJIS(this.data[b]);if(c>=33088&&c<=40956)c-=33088;else{if(!(c>=57408&&c<=60351))throw new Error("Invalid SJIS character: "+this.data[b]+"\nMake sure your charset is UTF-8");c-=49472}c=192*(c>>>8&255)+(255&c),a.put(c,13)}},b.exports=d},{"./mode":25,"./utils":32}],24:[function(a,b,c){function d(a,b,d){switch(a){case c.Patterns.PATTERN000:return(b+d)%2==0;case c.Patterns.PATTERN001:return b%2==0;case c.Patterns.PATTERN010:return d%3==0;case c.Patterns.PATTERN011:return(b+d)%3==0;case c.Patterns.PATTERN100:return(Math.floor(b/2)+Math.floor(d/3))%2==0;case c.Patterns.PATTERN101:return b*d%2+b*d%3==0;case c.Patterns.PATTERN110:return(b*d%2+b*d%3)%2==0;case c.Patterns.PATTERN111:return(b*d%3+(b+d)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}}c.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var e={N1:3,N2:3,N3:40,N4:10};c.isValid=function(a){return a&&""!==a&&!isNaN(a)&&a>=0&&a<=7},c.from=function(a){return c.isValid(a)?parseInt(a,10):void 0},c.getPenaltyN1=function(a){for(var b=a.size,c=0,d=0,f=0,g=null,h=null,i=0;i<b;i++){d=f=0,g=h=null;for(var j=0;j<b;j++){var k=a.get(i,j);k===g?d++:(d>=5&&(c+=e.N1+(d-5)),g=k,d=1),k=a.get(j,i),k===h?f++:(f>=5&&(c+=e.N1+(f-5)),h=k,f=1)}d>=5&&(c+=e.N1+(d-5)),f>=5&&(c+=e.N1+(f-5))}return c},c.getPenaltyN2=function(a){for(var b=a.size,c=0,d=0;d<b-1;d++)for(var f=0;f<b-1;f++){var g=a.get(d,f)+a.get(d,f+1)+a.get(d+1,f)+a.get(d+1,f+1);4!==g&&0!==g||c++}return c*e.N2},c.getPenaltyN3=function(a){for(var b=a.size,c=0,d=0,f=0,g=0;g<b;g++){d=f=0;for(var h=0;h<b;h++)d=d<<1&2047|a.get(g,h),h>=10&&(1488===d||93===d)&&c++,f=f<<1&2047|a.get(h,g),h>=10&&(1488===f||93===f)&&c++}return c*e.N3},c.getPenaltyN4=function(a){for(var b=0,c=a.data.length,d=0;d<c;d++)b+=a.data[d];return Math.abs(Math.ceil(100*b/c/5)-10)*e.N4},c.applyMask=function(a,b){for(var c=b.size,e=0;e<c;e++)for(var f=0;f<c;f++)b.isReserved(f,e)||b.xor(f,e,d(a,f,e))},c.getBestMask=function(a,b){for(var d=Object.keys(c.Patterns).length,e=0,f=1/0,g=0;g<d;g++){b(g),c.applyMask(g,a);var h=c.getPenaltyN1(a)+c.getPenaltyN2(a)+c.getPenaltyN3(a)+c.getPenaltyN4(a);c.applyMask(g,a),h<f&&(f=h,e=g)}return e}},{}],25:[function(a,b,c){function d(a){if("string"!=typeof a)throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return c.NUMERIC;case"alphanumeric":return c.ALPHANUMERIC;case"kanji":return c.KANJI;case"byte":return c.BYTE;default:throw new Error("Unknown mode: "+a)}}var e=a("./version"),f=a("./regex");c.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},c.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},c.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},c.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},c.MIXED={bit:-1},c.getCharCountIndicator=function(a,b){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(b))throw new Error("Invalid version: "+b);return b>=1&&b<10?a.ccBits[0]:b<27?a.ccBits[1]:a.ccBits[2]},c.getBestModeForData=function(a){return f.testNumeric(a)?c.NUMERIC:f.testAlphanumeric(a)?c.ALPHANUMERIC:f.testKanji(a)?c.KANJI:c.BYTE},c.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},c.isValid=function(a){return a&&a.bit&&a.ccBits},c.from=function(a,b){if(c.isValid(a))return a;try{return d(a)}catch(a){return b}}},{"./regex":30,"./version":33}],26:[function(a,b,c){function d(a){this.mode=e.NUMERIC,this.data=a.toString()}var e=a("./mode");d.getBitsLength=function(a){return 10*Math.floor(a/3)+(a%3?a%3*3+1:0)},d.prototype.getLength=function(){return this.data.length},d.prototype.getBitsLength=function(){return d.getBitsLength(this.data.length)},d.prototype.write=function(a){var b,c,d;for(b=0;b+3<=this.data.length;b+=3)c=this.data.substr(b,3),d=parseInt(c,10),a.put(d,10);var e=this.data.length-b;e>0&&(c=this.data.substr(b),d=parseInt(c,10),a.put(d,3*e+1))},b.exports=d},{"./mode":25}],27:[function(a,b,c){var d=a("../utils/buffer"),e=a("./galois-field");c.mul=function(a,b){var c=new d(a.length+b.length-1);c.fill(0);for(var f=0;f<a.length;f++)for(var g=0;g<b.length;g++)c[f+g]^=e.mul(a[f],b[g]);return c},c.mod=function(a,b){for(var c=new d(a);c.length-b.length>=0;){for(var f=c[0],g=0;g<b.length;g++)c[g]^=e.mul(b[g],f);for(var h=0;h<c.length&&0===c[h];)h++;c=c.slice(h)}return c},c.generateECPolynomial=function(a){for(var b=new d([1]),f=0;f<a;f++)b=c.mul(b,[1,e.exp(f)]);return b}},{"../utils/buffer":37,"./galois-field":22}],28:[function(a,b,c){function d(a,b){for(var c=a.size,d=s.getPositions(b),e=0;e<d.length;e++)for(var f=d[e][0],g=d[e][1],h=-1;h<=7;h++)if(!(f+h<=-1||c<=f+h))for(var i=-1;i<=7;i++)g+i<=-1||c<=g+i||(h>=0&&h<=6&&(0===i||6===i)||i>=0&&i<=6&&(0===h||6===h)||h>=2&&h<=4&&i>=2&&i<=4?a.set(f+h,g+i,!0,!0):a.set(f+h,g+i,!1,!0))}function e(a){for(var b=a.size,c=8;c<b-8;c++){var d=c%2==0;a.set(c,6,d,!0),a.set(6,c,d,!0)}}function f(a,b){for(var c=r.getPositions(b),d=0;d<c.length;d++)for(var e=c[d][0],f=c[d][1],g=-2;g<=2;g++)for(var h=-2;h<=2;h++)-2===g||2===g||-2===h||2===h||0===g&&0===h?a.set(e+g,f+h,!0,!0):a.set(e+g,f+h,!1,!0)}function g(a,b){for(var c,d,e,f=a.size,g=w.getEncodedBits(b),h=0;h<18;h++)c=Math.floor(h/3),d=h%3+f-8-3,e=1==(g>>h&1),a.set(c,d,e,!0),a.set(d,c,e,!0)}function h(a,b,c){var d,e,f=a.size,g=x.getEncodedBits(b,c);for(d=0;d<15;d++)e=1==(g>>d&1),d<6?a.set(d,8,e,!0):d<8?a.set(d+1,8,e,!0):a.set(f-15+d,8,e,!0),d<8?a.set(8,f-d-1,e,!0):d<9?a.set(8,15-d-1+1,e,!0):a.set(8,15-d-1,e,!0);a.set(f-8,8,1,!0)}function i(a,b){for(var c=a.size,d=-1,e=c-1,f=7,g=0,h=c-1;h>0;h-=2)for(6===h&&h--;;){for(var i=0;i<2;i++)if(!a.isReserved(e,h-i)){var j=!1;g<b.length&&(j=1==(b[g]>>>f&1)),a.set(e,h-i,j),f--,-1===f&&(g++,f=7)}if((e+=d)<0||c<=e){e-=d,d=-d;break}}}function j(a,b,c){var d=new p;c.forEach(function(b){d.put(b.mode.bit,4),d.put(b.getLength(),y.getCharCountIndicator(b.mode,a)),b.write(d)});var e=n.getSymbolTotalCodewords(a),f=u.getTotalCodewordsCount(a,b),g=8*(e-f);for(d.getLengthInBits()+4<=g&&d.put(0,4);d.getLengthInBits()%8!=0;)d.putBit(0);for(var h=(g-d.getLengthInBits())/8,i=0;i<h;i++)d.put(i%2?17:236,8);return k(d,a,b)}function k(a,b,c){for(var d=n.getSymbolTotalCodewords(b),e=u.getTotalCodewordsCount(b,c),f=d-e,g=u.getBlocksCount(b,c),h=d%g,i=g-h,j=Math.floor(d/g),k=Math.floor(f/g),l=k+1,o=j-k,p=new v(o),q=0,r=new Array(g),s=new Array(g),t=0,w=new m(a.buffer),x=0;x<g;x++){var y=x<i?k:l;r[x]=w.slice(q,q+y),s[x]=p.encode(r[x]),q+=y,t=Math.max(t,y)}var z,A,B=new m(d),C=0;for(z=0;z<t;z++)for(A=0;A<g;A++)z<r[A].length&&(B[C++]=r[A][z]);for(z=0;z<o;z++)for(A=0;A<g;A++)B[C++]=s[A][z];return B}function l(a,b,c,k){var l;if(A(a))l=z.fromArray(a);else{if("string"!=typeof a)throw new Error("Invalid data");var m=b;if(!m){var o=z.rawSplit(a);m=w.getBestVersionForData(o,c)}l=z.fromString(a,m||40)}var p=w.getBestVersionForData(l,c);if(!p)throw new Error("The amount of data is too big to be stored in a QR Code");if(b){if(b<p)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+p+".\n")}else b=p;var r=j(b,c,l),s=n.getSymbolSize(b),u=new q(s);return d(u,b),e(u),f(u,b),h(u,c,0),b>=7&&g(u,b),i(u,r),k||(k=t.getBestMask(u,h.bind(null,u,c))),t.applyMask(k,u),h(u,c,k),{modules:u,version:b,errorCorrectionLevel:c,maskPattern:k,segments:l}}var m=a("../utils/buffer"),n=a("./utils"),o=a("./error-correction-level"),p=a("./bit-buffer"),q=a("./bit-matrix"),r=a("./alignment-pattern"),s=a("./finder-pattern"),t=a("./mask-pattern"),u=a("./error-correction-code"),v=a("./reed-solomon-encoder"),w=a("./version"),x=a("./format-info"),y=a("./mode"),z=a("./segments"),A=a("isarray");c.create=function(a,b){if(void 0===a||""===a)throw new Error("No input text");var c,d,e=o.M;return void 0!==b&&(e=o.from(b.errorCorrectionLevel,o.M),c=w.from(b.version),d=t.from(b.maskPattern),b.toSJISFunc&&n.setToSJISFunction(b.toSJISFunc)),l(a,c,e,d)}},{"../utils/buffer":37,"./alignment-pattern":13,"./bit-buffer":15,"./bit-matrix":16,"./error-correction-code":18,"./error-correction-level":19,"./finder-pattern":20,"./format-info":21,"./mask-pattern":24,"./mode":25,"./reed-solomon-encoder":29,"./segments":31,"./utils":32,"./version":33,isarray:11}],29:[function(a,b,c){function d(a){this.genPoly=void 0,this.degree=a,this.degree&&this.initialize(this.degree)}var e=a("../utils/buffer"),f=a("./polynomial");d.prototype.initialize=function(a){this.degree=a,this.genPoly=f.generateECPolynomial(this.degree)},d.prototype.encode=function(a){if(!this.genPoly)throw new Error("Encoder not initialized");var b=new e(this.degree);b.fill(0);var c=e.concat([a,b],a.length+this.degree),d=f.mod(c,this.genPoly),g=this.degree-d.length;if(g>0){var h=new e(this.degree);return h.fill(0),d.copy(h,g),h}return d},b.exports=d},{"../utils/buffer":37,"./polynomial":27}],30:[function(a,b,c){var d="[0-9]+",e="[A-Z $%*+\\-./:]+",f="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";f=f.replace(/u/g,"\\u");var g="(?:(?![A-Z0-9 $%*+\\-./:]|"+f+").)+";c.KANJI=new RegExp(f,"g"),c.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),c.BYTE=new RegExp(g,"g"),c.NUMERIC=new RegExp(d,"g"),c.ALPHANUMERIC=new RegExp(e,"g");var h=new RegExp("^"+f+"$"),i=new RegExp("^"+d+"$"),j=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");c.testKanji=function(a){return h.test(a)},c.testNumeric=function(a){return i.test(a)},c.testAlphanumeric=function(a){return j.test(a)}},{}],31:[function(a,b,c){function d(a){return unescape(encodeURIComponent(a)).length}function e(a,b,c){for(var d,e=[];null!==(d=a.exec(c));)e.push({data:d[0],index:d.index,mode:b,length:d[0].length});return e}function f(a){var b,c,d=e(q.NUMERIC,l.NUMERIC,a),f=e(q.ALPHANUMERIC,l.ALPHANUMERIC,a);return r.isKanjiModeEnabled()?(b=e(q.BYTE,l.BYTE,a),c=e(q.KANJI,l.KANJI,a)):(b=e(q.BYTE_KANJI,l.BYTE,a),c=[]),d.concat(f,b,c).sort(function(a,b){return a.index-b.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function g(a,b){switch(b){case l.NUMERIC:return m.getBitsLength(a);case l.ALPHANUMERIC:return n.getBitsLength(a);case l.KANJI:return p.getBitsLength(a);case l.BYTE:return o.getBitsLength(a)}}function h(a){return a.reduce(function(a,b){var c=a.length-1>=0?a[a.length-1]:null;return c&&c.mode===b.mode?(a[a.length-1].data+=b.data,a):(a.push(b),a)},[])}function i(a){for(var b=[],c=0;c<a.length;c++){var e=a[c];switch(e.mode){case l.NUMERIC:b.push([e,{data:e.data,mode:l.ALPHANUMERIC,length:e.length},{data:e.data,mode:l.BYTE,length:e.length}]);break;case l.ALPHANUMERIC:b.push([e,{data:e.data,mode:l.BYTE,length:e.length}]);break;case l.KANJI:b.push([e,{data:e.data,mode:l.BYTE,length:d(e.data)}]);break;case l.BYTE:b.push([{data:e.data,mode:l.BYTE,length:d(e.data)}])}}return b}function j(a,b){for(var c={},d={start:{}},e=["start"],f=0;f<a.length;f++){for(var h=a[f],i=[],j=0;j<h.length;j++){var k=h[j],m=""+f+j;i.push(m),c[m]={node:k,lastCount:0},d[m]={};for(var n=0;n<e.length;n++){var o=e[n];c[o]&&c[o].node.mode===k.mode?(d[o][m]=g(c[o].lastCount+k.length,k.mode)-g(c[o].lastCount,k.mode),c[o].lastCount+=k.length):(c[o]&&(c[o].lastCount=k.length),d[o][m]=g(k.length,k.mode)+4+l.getCharCountIndicator(k.mode,b))}}e=i}for(n=0;n<e.length;n++)d[e[n]].end=0;return{map:d,table:c}}function k(a,b){var c,d=l.getBestModeForData(a);if((c=l.from(b,d))!==l.BYTE&&c.bit<d.bit)throw new Error('"'+a+'" cannot be encoded with mode '+l.toString(c)+".\n Suggested mode is: "+l.toString(d));switch(c!==l.KANJI||r.isKanjiModeEnabled()||(c=l.BYTE),c){case l.NUMERIC:return new m(a);case l.ALPHANUMERIC:return new n(a);case l.KANJI:return new p(a);case l.BYTE:return new o(a)}}var l=a("./mode"),m=a("./numeric-data"),n=a("./alphanumeric-data"),o=a("./byte-data"),p=a("./kanji-data"),q=a("./regex"),r=a("./utils"),s=a("dijkstrajs");c.fromArray=function(a){return a.reduce(function(a,b){return"string"==typeof b?a.push(k(b,null)):b.data&&a.push(k(b.data,b.mode)),a},[])},c.fromString=function(a,b){for(var d=f(a,r.isKanjiModeEnabled()),e=i(d),g=j(e,b),k=s.find_path(g.map,"start","end"),l=[],m=1;m<k.length-1;m++)l.push(g.table[k[m]].node);return c.fromArray(h(l))},c.rawSplit=function(a){return c.fromArray(f(a,r.isKanjiModeEnabled()))}},{"./alphanumeric-data":14,"./byte-data":17,"./kanji-data":23,"./mode":25,"./numeric-data":26,"./regex":30,"./utils":32,dijkstrajs:9}],32:[function(a,b,c){var d,e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];c.getSymbolSize=function(a){if(!a)throw new Error('"version" cannot be null or undefined');if(a<1||a>40)throw new Error('"version" should be in range from 1 to 40');return 4*a+17},c.getSymbolTotalCodewords=function(a){return e[a]},c.getBCHDigit=function(a){for(var b=0;0!==a;)b++,a>>>=1;return b},c.setToSJISFunction=function(a){if("function"!=typeof a)throw new Error('"toSJISFunc" is not a valid function.');d=a},c.isKanjiModeEnabled=function(){return void 0!==d},c.toSJIS=function(a){return d(a)}},{}],33:[function(a,b,c){function d(a,b,d){for(var e=1;e<=40;e++)if(b<=c.getCapacity(e,d,a))return e}function e(a,b){return k.getCharCountIndicator(a,b)+4}function f(a,b){var c=0;return a.forEach(function(a){var d=e(a.mode,b);c+=d+a.getBitsLength()}),c}function g(a,b){for(var d=1;d<=40;d++){if(f(a,d)<=c.getCapacity(d,b,k.MIXED))return d}}var h=a("./utils"),i=a("./error-correction-code"),j=a("./error-correction-level"),k=a("./mode"),l=a("isarray"),m=7973,n=h.getBCHDigit(m);c.isValid=function(a){return!isNaN(a)&&a>=1&&a<=40},c.from=function(a,b){return c.isValid(a)?parseInt(a,10):b},c.getCapacity=function(a,b,d){if(!c.isValid(a))throw new Error("Invalid QR Code version");void 0===d&&(d=k.BYTE);var f=h.getSymbolTotalCodewords(a),g=i.getTotalCodewordsCount(a,b),j=8*(f-g);if(d===k.MIXED)return j;var l=j-e(d,a);switch(d){case k.NUMERIC:return Math.floor(l/10*3);case k.ALPHANUMERIC:return Math.floor(l/11*2);case k.KANJI:return Math.floor(l/13);case k.BYTE:default:return Math.floor(l/8)}},c.getBestVersionForData=function(a,b){var c,e=j.from(b,j.M);if(l(a)){if(a.length>1)return g(a,e);if(0===a.length)return 1;c=a[0]}else c=a;return d(c.mode,c.getLength(),e)},c.getEncodedBits=function(a){if(!c.isValid(a)||a<7)throw new Error("Invalid QR Code version");for(var b=a<<12;h.getBCHDigit(b)-n>=0;)b^=m<<h.getBCHDigit(b)-n;return a<<12|b}},{"./error-correction-code":18,"./error-correction-level":19,"./mode":25,"./utils":32,isarray:11}],34:[function(a,b,c){function d(a,b,c){a.clearRect(0,0,b.width,b.height),b.style||(b.style={}),b.height=c,b.width=c,b.style.height=c+"px",b.style.width=c+"px"}function e(){try{return document.createElement("canvas")}catch(a){throw new Error("You need to specify a canvas element")}}var f=a("./utils");c.render=function(a,b,c){var g=c,h=b;void 0!==g||b&&b.getContext||(g=b,b=void 0),b||(h=e()),g=f.getOptions(g);var i=f.getImageWidth(a.modules.size,g),j=h.getContext("2d"),k=j.createImageData(i,i);return f.qrToImageData(k.data,a,g),d(j,h,i),j.putImageData(k,0,0),h},c.renderToDataURL=function(a,b,d){var e=d;void 0!==e||b&&b.getContext||(e=b,b=void 0),e||(e={});var f=c.render(a,b,e),g=e.type||"image/png",h=e.rendererOpts||{};return f.toDataURL(g,h.quality)}},{"./utils":36}],35:[function(a,b,c){function d(a,b){var c=a.a/255,d=b+'="'+a.hex+'"';return c<1?d+" "+b+'-opacity="'+c.toFixed(2).slice(1)+'"':d}function e(a,b,c){var d=a+b;return void 0!==c&&(d+=" "+c),d}function f(a,b,c){for(var d="",f=0,g=!1,h=0,i=0;i<a.length;i++){var j=Math.floor(i%b),k=Math.floor(i/b);j||g||(g=!0),a[i]?(h++,i>0&&j>0&&a[i-1]||(d+=g?e("M",j+c,.5+k+c):e("m",f,0),f=0,g=!1),j+1<b&&a[i+1]||(d+=e("h",h),h=0)):f++}return d}var g=a("./utils");c.render=function(a,b,c){var e=g.getOptions(b),h=a.modules.size,i=a.modules.data,j=h+2*e.margin,k=e.color.light.a?"<path "+d(e.color.light,"fill")+' d="M0 0h'+j+"v"+j+'H0z"/>':"",l="<path "+d(e.color.dark,"stroke")+' d="'+f(i,h,e.margin)+'"/>',m='viewBox="0 0 '+j+" "+j+'"',n=e.width?'width="'+e.width+'" height="'+e.width+'" ':"",o='<svg xmlns="http://www.w3.org/2000/svg" '+n+m+">"+k+l+"</svg>";return"function"==typeof c&&c(null,o),o}},{"./utils":36}],36:[function(a,b,c){function d(a){if("string"!=typeof a)throw new Error("Color should be defined as hex string");var b=a.slice().replace("#","").split("");if(b.length<3||5===b.length||b.length>8)throw new Error("Invalid hex color: "+a);3!==b.length&&4!==b.length||(b=Array.prototype.concat.apply([],b.map(function(a){return[a,a]}))),6===b.length&&b.push("F","F");var c=parseInt(b.join(""),16);return{r:c>>24&255,g:c>>16&255,b:c>>8&255,a:255&c,hex:"#"+b.slice(0,6).join("")}}c.getOptions=function(a){a||(a={}),a.color||(a.color={});var b=void 0===a.margin||null===a.margin||a.margin<0?4:a.margin,c=a.width&&a.width>=21?a.width:void 0,e=a.scale||4;return{width:c,scale:c?4:e,margin:b,color:{dark:d(a.color.dark||"#000000ff"),light:d(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},c.getScale=function(a,b){return b.width&&b.width>=a+2*b.margin?b.width/(a+2*b.margin):b.scale},c.getImageWidth=function(a,b){var d=c.getScale(a,b);return Math.floor((a+2*b.margin)*d)},c.qrToImageData=function(a,b,d){for(var e=b.modules.size,f=b.modules.data,g=c.getScale(e,d),h=Math.floor((e+2*d.margin)*g),i=d.margin*g,j=[d.color.light,d.color.dark],k=0;k<h;k++)for(var l=0;l<h;l++){var m=4*(k*h+l),n=d.color.light;if(k>=i&&l>=i&&k<h-i&&l<h-i){var o=Math.floor((k-i)/g),p=Math.floor((l-i)/g);n=j[f[o*e+p]?1:0]}a[m++]=n.r,a[m++]=n.g,a[m++]=n.b,a[m]=n.a}}},{}],37:[function(a,b,c){"use strict";function d(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()}catch(a){return!1}}function e(a,b,c){return e.TYPED_ARRAY_SUPPORT||this instanceof e?"number"==typeof a?i(this,a):r(this,a,b,c):new e(a,b,c)}function f(a){if(a>=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+t.toString(16)+" bytes");return 0|a}function g(a){return a!==a}function h(a,b){var c;return e.TYPED_ARRAY_SUPPORT?(c=new Uint8Array(b),c.__proto__=e.prototype):(c=a,null===c&&(c=new e(b)),c.length=b),c}function i(a,b){var c=h(a,b<0?0:0|f(b));if(!e.TYPED_ARRAY_SUPPORT)for(var d=0;d<b;++d)c[d]=0;return c}function j(a,b){var c=0|o(b),d=h(a,c),e=d.write(b);return e!==c&&(d=d.slice(0,e)),d}function k(a,b){for(var c=b.length<0?0:0|f(b.length),d=h(a,c),e=0;e<c;e+=1)d[e]=255&b[e];return d}function l(a,b,c,d){if(c<0||b.byteLength<c)throw new RangeError("'offset' is out of bounds");if(b.byteLength<c+(d||0))throw new RangeError("'length' is out of bounds");var f;return f=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d),e.TYPED_ARRAY_SUPPORT?f.__proto__=e.prototype:f=k(a,f),f}function m(a,b){if(e.isBuffer(b)){var c=0|f(b.length),d=h(a,c);return 0===d.length?d:(b.copy(d,0,0,c),d)}if(b){if("undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return"number"!=typeof b.length||g(b.length)?h(a,0):k(a,b);if("Buffer"===b.type&&Array.isArray(b.data))return k(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function n(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;++g){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=65536+(e-55296<<10|c-56320)}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function o(a){return e.isBuffer(a)?a.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer)?a.byteLength:("string"!=typeof a&&(a=""+a),0===a.length?0:n(a).length)}function p(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function q(a,b,c,d){return p(n(b,a.length-c),a,c,d)}function r(a,b,c,d){if("number"==typeof b)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer?l(a,b,c,d):"string"==typeof b?j(a,b,c):m(a,b)}var s=a("isarray");e.TYPED_ARRAY_SUPPORT=d();var t=e.TYPED_ARRAY_SUPPORT?2147483647:1073741823;e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),e.prototype.write=function(a,b,c){void 0===b?(c=this.length,b=0):void 0===c&&"string"==typeof b?(c=this.length,b=0):isFinite(b)&&(b|=0,isFinite(c)?c|=0:c=void 0);var d=this.length-b;if((void 0===c||c>d)&&(c=d),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");return q(this,a,b,c)},e.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c)<0&&(a=0):a>c&&(a=c),b<0?(b+=c)<0&&(b=0):b>c&&(b=c),b<a&&(b=a);var d;if(e.TYPED_ARRAY_SUPPORT)d=this.subarray(a,b),d.__proto__=e.prototype;else{var f=b-a;d=new e(f,void 0);for(var g=0;g<f;++g)d[g]=this[g+a]}return d},e.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var f,g=d-c;if(this===a&&c<b&&b<d)for(f=g-1;f>=0;--f)a[f+b]=this[f+c];else if(g<1e3||!e.TYPED_ARRAY_SUPPORT)for(f=0;f<g;++f)a[f+b]=this[f+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+g),b);return g},e.prototype.fill=function(a,b,c){if("string"==typeof a){if("string"==typeof b?(b=0,c=this.length):"string"==typeof c&&(c=this.length),1===a.length){var d=a.charCodeAt(0);d<256&&(a=d)}}else"number"==typeof a&&(a&=255);if(b<0||this.length<b||this.length<c)throw new RangeError("Out of range index");if(c<=b)return this;b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0);var f;if("number"==typeof a)for(f=b;f<c;++f)this[f]=a;else{var g=e.isBuffer(a)?a:new e(a),h=g.length;for(f=0;f<c-b;++f)this[f+b]=g[f%h]}return this},e.concat=function(a,b){if(!s(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return h(null,0);var c;if(void 0===b)for(b=0,c=0;c<a.length;++c)b+=a[c].length;var d=i(null,b),f=0;for(c=0;c<a.length;++c){var g=a[c];if(!e.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(d,f),f+=g.length}return d},e.byteLength=o,e.prototype._isBuffer=!0,e.isBuffer=function(a){return!(null==a||!a._isBuffer)},b.exports=e},{isarray:11}],38:[function(a,b,c){(function(a){"use strict";b.exports="object"==typeof self&&self.self===self&&self||"object"==typeof a&&a.global===a&&a||this}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],nebpay:[function(a,b,c){"use strict";var d=a("extend"),e=a("./libs/http"),f=a("./libs/config"),g=a("./libs/pay"),h=a("bignumber.js"),i="NAS",j=function(a,b){this._pay=new g(a,b)};j.config=f;var k={goods:{name:"",desc:"",orderId:"",ext:""},qrcode:{showQRCode:!1,container:void 0},callback:f.mainnetUrl,listener:void 0,nrc20:void 0};j.prototype={pay:function(a,b,c){var e={type:"binary"};return c=d(k,c),this._pay.submit(i,a,b,e,c)},nrc20pay:function(a,b,c,e){e.nrc20&&e.nrc20.decimals>0&&(c=c||"0",c=new h(c).times(new h(10).pow(e.nrc20.decimals)).toString(10));var f="";e.nrc20&&e.nrc20.address&&(f=e.nrc20.address);var g=[b,c],i={type:"call",function:"transfer",args:JSON.stringify(g)};return e=d(k,e),this._pay.submit(a,f,"0",i,e)},deploy:function(a,b,c,e){var f={type:"deploy",source:a,sourceType:b,args:c};return e=d(k,e),this._pay.submit(i,"","0",f,e)},call:function(a,b,c,e,f){var g={type:"call",function:c,args:e};return f=d(k,f),this._pay.submit(i,a,b,g,f)},simulateCall:function(a,b,c,e,f){var g={type:"simulateCall",function:c,args:e};return f=d(k,f),this._pay.submit(i,a,b,g,f)},queryPayInfo:function(a,b){b=d(k,b);var c=b.callback+"/query?payId="+a;return e.get(c)}},b.exports=j},{"./libs/config":2,"./libs/http":4,"./libs/pay":5,"bignumber.js":7,extend:10}]},{},[]);